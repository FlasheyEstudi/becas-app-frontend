<!-- src/app/sidebar/sidebar.html -->
<aside class="sidebar" [class.collapsed]="collapsed">
  <div class="sidebar-header">
    <span class="logo" *ngIf="!collapsed">🎓 Gestión Universitaria</span>
    <button class="collapse-btn" (click)="toggleCollapse()" *ngIf="!collapsed" aria-label="Colapsar sidebar">
      <i class="material-icons">chevron_left</i>
    </button>
    <button class="collapse-btn" (click)="toggleCollapse()" *ngIf="collapsed" aria-label="Expandir sidebar">
      <i class="material-icons">chevron_right</i>
    </button>
  </div>

  <nav class="sidebar-nav" role="navigation" aria-label="Menú principal">
    <!-- Dashboard visible para todos los usuarios logueados -->
    <a routerLink="/dashboard" class="nav-item" [class.active]="isActive('/dashboard')">
      <span class="nav-icon" aria-hidden="true">📊</span>
      <span *ngIf="!collapsed">Dashboard</span>
    </a>

    <!-- Menú para administrador -->
    <ng-container *ngIf="isLoggedIn() && userRole === 'admin'">
      <a routerLink="/estudiantes" class="nav-item" [class.active]="isActive('/estudiantes')">
        <span class="nav-icon" aria-hidden="true">👥</span>
        <span *ngIf="!collapsed">Estudiantes</span>
      </a>
      <a routerLink="/carreras" class="nav-item" [class.active]="isActive('/carreras')">
        <span class="nav-icon" aria-hidden="true">📚</span>
        <span *ngIf="!collapsed">Carreras</span>
      </a>
      <a routerLink="/area-conocimiento" class="nav-item" [class.active]="isActive('/area-conocimiento')">
        <span class="nav-icon" aria-hidden="true">🧠</span>
        <span *ngIf="!collapsed">Áreas</span>
      </a>
      <a routerLink="/requisitos" class="nav-item" [class.active]="isActive('/requisitos')">
        <span class="nav-icon" aria-hidden="true">📋</span>
        <span *ngIf="!collapsed">Requisitos</span>
      </a>
      <a routerLink="/tipo-beca" class="nav-item" [class.active]="isActive('/tipo-beca')">
        <span class="nav-icon" aria-hidden="true">💰</span>
        <span *ngIf="!collapsed">Tipos Beca</span>
      </a>
      <a routerLink="/periodo-academico" class="nav-item" [class.active]="isActive('/periodo-academico')">
        <span class="nav-icon" aria-hidden="true">📅</span>
        <span *ngIf="!collapsed">Períodos</span>
      </a>
      <a routerLink="/solicitud-beca" class="nav-item" [class.active]="isActive('/solicitud-beca')">
        <span class="nav-icon" aria-hidden="true">📝</span>
        <span *ngIf="!collapsed">Solicitudes</span>
      </a>
      <a routerLink="/estado" class="nav-item" [class.active]="isActive('/estado')">
        <span class="nav-icon" aria-hidden="true">🔄</span>
        <span *ngIf="!collapsed">Estados</span>
      </a>
      <a routerLink="/configuracion" class="nav-item" [class.active]="isActive('/configuracion')">
        <span class="nav-icon" aria-hidden="true">⚙️</span>
        <span *ngIf="!collapsed">Configuración</span>
      </a>
    </ng-container>

    <!-- Menú para estudiantes -->
    <ng-container *ngIf="isLoggedIn() && userRole === 'estudiante'">
      <a routerLink="/perfil" class="nav-item" [class.active]="isActive('/perfil')">
        <span class="nav-icon" aria-hidden="true">👤</span>
        <span *ngIf="!collapsed">Perfil</span>
      </a>
      <a routerLink="/becas-disponibles" class="nav-item" [class.active]="isActive('/becas-disponibles')">
        <span class="nav-icon" aria-hidden="true">🎓</span>
        <span *ngIf="!collapsed">Becas Disponibles</span>
      </a>
      <a routerLink="/mis-solicitudes" class="nav-item" [class.active]="isActive('/mis-solicitudes')">
        <span class="nav-icon" aria-hidden="true">📝</span>
        <span *ngIf="!collapsed">Mis Solicitudes</span>
      </a>
    </ng-container>

    <!-- Menú para usuarios no autenticados -->
    <ng-container *ngIf="!isLoggedIn()">
      <a routerLink="/register" class="nav-item" [class.active]="isActive('/register')">
        <span class="nav-icon" aria-hidden="true">📝</span>
        <span *ngIf="!collapsed">Registrarse</span>
      </a>
    </ng-container>
  </nav>

  <div class="sidebar-footer" *ngIf="isLoggedIn()">
    <div class="user-card">
      <div class="avatar" aria-label="Avatar usuario">{{ userName.charAt(0).toUpperCase() }}</div>
      <div>
        <strong *ngIf="!collapsed">{{ userName }}</strong><br />
        <small *ngIf="!collapsed">{{ userRole }}</small>
      </div>
    </div>
    <button class="nav-item logout-btn" (click)="logout()">
      <span class="nav-icon" aria-hidden="true">🚪</span>
      <span *ngIf="!collapsed">Cerrar Sesión</span>
    </button>
  </div>
</aside>